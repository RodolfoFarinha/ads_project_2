<div style="width: 100%; text-align: center;">
  <div class="analysis-container">
    <br>
    <div class="form-row">
      <div class="col-lg-12">
        <div class="card">
          <h5>Aulas Sem Salas</h5>
          <p-chart type="bar" [data]="data" [options]="options"></p-chart>
        </div>
      </div>
    </div>
    <br>
    <p-table [value]="qualitySchedules" dataKey="scheduleKey" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="scheduleType">Algoritmo <p-sortIcon field="scheduleType"></p-sortIcon>
          </th>
          <th pSortableColumn="timeExecution">Tempo de Execução <p-sortIcon field="timeExecution"></p-sortIcon>
          </th>
          <th pSortableColumn="totalRoomsWithoutSession">Aulas sem Sala <p-sortIcon field="totalRoomsWithoutSession">
            </p-sortIcon>
          </th>
          <th pSortableColumn="totalRoomsWithoutSessionMasters">Aulas sem Sala - Mestrados <p-sortIcon
              field="totalRoomsWithoutSessionMasters"></p-sortIcon>
          </th>
          <th pSortableColumn="totalRoomsWithoutSessionDegrees">Aulas sem Sala - Licenciaturas <p-sortIcon
              field="totalRoomsWithoutSessionDegrees"></p-sortIcon>
          </th>
          <th pSortableColumn="totalRoomsWithoutSessionAfterWork">Aulas sem Sala - Pós-laboral <p-sortIcon
              field="totalRoomsWithoutSessionAfterWork"></p-sortIcon>
          </th>
          <th pSortableColumn="totalRoomsWithoutSessionWork">Aulas sem Sala - Laboral <p-sortIcon
              field="totalRoomsWithoutSessionWork"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-qualitySchedule>
        <tr>
          <td>{{qualitySchedule.scheduleTypeString}}</td>
          <td>{{qualitySchedule.timeExecution}}</td>
          <td>{{qualitySchedule.totalRoomsWithoutSession}}</td>
          <td>{{qualitySchedule.totalRoomsWithoutSessionMasters}}</td>
          <td>{{qualitySchedule.totalRoomsWithoutSessionDegrees}}</td>
          <td>{{qualitySchedule.totalRoomsWithoutSessionAfterWork}}</td>
          <td>{{qualitySchedule.totalRoomsWithoutSessionWork}}</td>
        </tr>
      </ng-template>
    </p-table>

    <br>
    <div style="width: 100%;">
      <div class="form-group form-margin" style="width: 200px; margin: auto;">
        <label for="algorithm">Algoritmo:</label>
        <select #mySelect class="form-control" (change)="changeAlgorithm(mySelect.value)">
          <option *ngFor="let name of scheduleTypes" [value]="name"> {{scheduleTypesEnum[name]}} </option>
        </select>
      </div>
    </div>
    <br>
    <p-table [value]="qualitySchedule?.roomsBasicInfo" dataKey="roomKey" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="roomName">Sala <p-sortIcon field="roomName"></p-sortIcon></th>
          <th pSortableColumn="roomCapacity">Capacidade <p-sortIcon field="roomCapacity"></p-sortIcon></th>
          <th pSortableColumn="buildingName">Edificio <p-sortIcon field="buildingName"></p-sortIcon></th>
          <th pSortableColumn="totalHoursAllocated">Horas Alocadas <p-sortIcon field="totalHoursAllocated"></p-sortIcon></th>
          <th pSortableColumn="allocationPercentage">Percentagem de Alocação <p-sortIcon field="allocationPercentage"></p-sortIcon></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-room>
        <tr>
          <td>{{room.roomName}}</td>
          <td>{{room.roomCapacity}}</td>
          <td>{{room.buildingName}}</td>
          <td>{{room.totalHoursAllocated}} Horas</td>
          <td>{{room.allocationPercentage | number: '1.0-2'}} %</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="summary">
        <div class="p-d-flex p-ai-center p-jc-between">
          Total de salas: {{qualitySchedule ? qualitySchedule.roomsBasicInfo.length : 0 }}  |  Total de Horas: {{qualitySchedule ? qualitySchedule.totalRoomsHours : 0 }}
        </div>
      </ng-template>
    </p-table>
    <br>
  </div>
</div>
